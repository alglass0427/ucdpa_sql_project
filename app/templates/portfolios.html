{% extends "base.html" %}



{% block title %}Dashboard - Portfolio Manager{% endblock %}
{% block content %}
<h1 class="fs-0 fs-1 fs-sm-2 fs-md-3 fs-lg-4 d-flex d-block justify-content-center align-items-center">
    <span class = "d-none d-sm-block" >Portfolio Edit</span>
    <span class = "d-block d-sm-none" >Portfolio</span>
</h1><div class="container-sm container_add mt-2">
    <form action="{{ url_for('portfolios') }}" method="POST" id = "selectPortfolio"></form>
        <div class="row g-3 d-flex justify-content-between align-items-center">
            <div class="col-lg-3 col-md-12 align-items-center">
                <span class =  "d-none d-sm-block" >{{ current_user.username }} -  Portfolios</span>
                <span class = "d-block d-sm-none">{{ current_user.username }}</span>

            </div>
            <div class="col-lg-7 col-md-12">
                <!-- <input type="text" class="form-control" name="stock_code" placeholder="Stock Code" required> -->
                <select title="portfolio" id="portfolioList" class="form-control" name="portfolio_id">
                        <option>All</option>
                    {% for portfolio in portfolios  %}
                        <option> {{portfolio.portfolio_desc}} </option> 
                    {% endfor %}
                </select>                
            </div>

            <div class="col-lg-2 col-md-12">
                <div id="refreshButton" data-url="{{ url_for('get_all_portfolios') }}" class="btn btn-primary w-100">
                    Refresh
                </div>
            </div>

        </div>

</div>
    


    <div class="container container_add mt-2">
        <form action="{{ url_for('add_portfolio') }}" method="POST" id = "addPortfolio">
            <div class="row g-3 align-items-center">
                <!-- <div class="col-lg-6 col-md-6">
                   
                    <select title="portfolio" id="portfolioList" class="form-control" name="portfolio_id">
                        <option></option> 
                    </select>                
                </div> -->
                
                <div class="col-lg-6 col-md-12">
                    <input type="text" class="form-control" name="portfolio_desc" placeholder="Portfolio Name" required>
                </div>

                <div class="col-lg-3 col-md-12">
                    <input type="number" class="form-control" name="seed_capital" placeholder="Seed Capital " required>
                </div>

                <div class="col-lg-3 col-md-12">
                    <button type="submit" class="btn btn-primary w-100">Create Portfolio</button>
                </div>
            </div>
        </form>
        

    </div>

    <div class = "table-responsive">
        <div class="d-sm-block">
            <table class="table table-striped table-bordered" id="portfolioContent">
                <thead class="table-primary">
                    <tr>
                        <th class="d-none d-md-table-cell">#</th>
                        <th class="d-none d-md-table-cell">Prtfolio ID</th>
                        <th>Portfolio Name</th>
                        <th class="d-none d-md-table-cell">Total Investments</th>
                        <th class="d-none d-md-table-cell">Total Trades</th>
                        <th>Total Assets</th>
                        <th>Total Cash</th>
                    </tr>
                </thead>
                <tbody>
                   
                </tbody>
            </table>
        </div>
    </div>
<br>
<br>





{% endblock %}

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
<script src="{{ url_for('static', filename='js/portfolio.js') }}"></script>
{% endblock scripts %}
